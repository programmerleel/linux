# shell编程

#!/bin/sh：指定shell的解释器

source：直接在当前的shell中执行 
bash：开启子shell

- 环境变量：
  - export导出全局变量为环境变量
  - 对当前shell进程及其子进程有效
  - 环境变量传子不传父（子进程中修改，在父进程中不会改变）
- 全局变量：
  - shell在函数内创建的变量默认为全局变量，函数内外一致
  - 在一个shell进程中，所有sh脚本共享全局变量
- 局部变量：
  - 使用local进行定义
  - 仅在函数内部有效
- 只读变量：readonly
- 撤销变量：unset（readonly不可） 
- 特殊变量：
  - $n：$0（脚本名称） $1-9，大于等于10加花括号（脚本参数）
  - $#：输出参数个数
  - $*：获取所有参数（看成一个整体）
  - $@：获取所有参数（看成一个集合）
  - $?：判断上一个命令是否正确执行（返回0）

- 运算符
  - 变量默认为字符串类型
  - expr：表达式（运算符前后需要空格）$()加表达式进行赋值（太麻烦了，一般不使用）
  - $[]或者$(()) (运算符前后空格可有可无)

- 条件判断
  - test condition（配合$?使用）或者[ condition ]（前后需要空格）
  - = !=
  - 整数之间的判断：-eq -ne -lt -le -gt -ge
  - 文件权限：-r -w -x（-x add.sh）
  - 目录中文件是否存在：-e
  - 多条件判断：&&（）

- 流程控制（见代码）
  - if语句
  - case语句
  - for语句